{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/outlaw/Capstone-Kyndryl-project/bank-app/app/transaction/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useSession } from '../context/sessionContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Head from '@/components/header';\r\nimport Sidebar from '@/components/sidebar';\r\n\r\nexport default function TransactionForm() {\r\n  const [accounts, setAccounts] = useState([]);\r\n  const { isLoggedIn, userInfo} = useSession();\r\n  const router = useRouter();\r\n  const [selectedAccount, setSelectedAccount] = useState('');\r\n  const [amount, setAmount] = useState('');\r\n  const [status, setStatus] = useState('');\r\n\r\n  // Fetch user accounts (or you could pass them in as props)\r\n  useEffect(() => {\r\n    if (!isLoggedIn) {\r\n      router.replace(\"/login\");\r\n    }\r\n    const fetchAccounts = async () => {\r\n      const res = await fetch('/api/accounts?licenseNumber=${userInfo.licenseNumber}');\r\n      const data = await res.json();\r\n      setAccounts(data.accounts || []);\r\n      if (data.accounts.length > 0) {\r\n        setSelectedAccount(data.accounts[0].id); // default to first\r\n      }\r\n    };\r\n\r\n    fetchAccounts();\r\n  }, [isLoggedIn, router, userInfo]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    const res = await fetch('/api/transactions', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        accountId: selectedAccount,\r\n        transactionAmount: parseFloat(amount),\r\n      }),\r\n    });\r\n\r\n    if (res.ok) {\r\n      setStatus('Transaction submitted!');\r\n      setAmount('');\r\n    } else {\r\n      setStatus('Error submitting transaction.');\r\n    }\r\n  };\r\n\r\n  return (\r\n\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"max-w-md mx-auto space-y-4 p-6 rounded shadow\"\r\n          style={{\r\n            backgroundColor: 'var(--maroon)',\r\n            color: 'white',\r\n          }}\r\n        >\r\n          <div>\r\n            <label className=\"block mb-1 font-medium text-white\">Transaction Amount ($)</label>\r\n            <input\r\n              type=\"number\"\r\n              value={amount}\r\n              onChange={(e) => setAmount(e.target.value)}\r\n              className=\"w-full px-3 py-2 rounded border border-white\"\r\n              style={{\r\n                backgroundColor: 'white',\r\n                color: 'var(--maroon)',\r\n              }}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block mb-1 font-medium text-white\">Select Account</label>\r\n            <select\r\n              value={selectedAccount}\r\n              onChange={(e) => setSelectedAccount(e.target.value)}\r\n              className=\"w-full px-3 py-2 rounded border border-white\"\r\n              style={{\r\n                backgroundColor: 'white',\r\n                color: 'var(--maroon)',\r\n              }}\r\n            >\r\n              {accounts.map((acc: any) => (\r\n                <option key={acc.id} value={acc.id}>\r\n                  {acc.name} ({acc.id})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full py-2 px-4 rounded font-semibold\"\r\n            style={{\r\n              backgroundColor: 'white',\r\n              color: 'var(--maroon)',\r\n              border: '2px solid white',\r\n            }}\r\n          >\r\n            Submit Transaction\r\n          </button>\r\n\r\n          {status && <p className=\"mt-2 text-sm text-white\">{status}</p>}\r\n        </form>\r\n\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAC,GAAG,CAAA,GAAA,oIAAA,CAAA,aAAU,AAAD;IACzC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,2DAA2D;IAC3D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,CAAC,YAAY;gBACf,OAAO,OAAO,CAAC;YACjB;YACA,MAAM;2DAAgB;oBACpB,MAAM,MAAM,MAAM,MAAM;oBACxB,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,YAAY,KAAK,QAAQ,IAAI,EAAE;oBAC/B,IAAI,KAAK,QAAQ,CAAC,MAAM,GAAG,GAAG;wBAC5B,mBAAmB,KAAK,QAAQ,CAAC,EAAE,CAAC,EAAE,GAAG,mBAAmB;oBAC9D;gBACF;;YAEA;QACF;oCAAG;QAAC;QAAY;QAAQ;KAAS;IAEjC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,MAAM,MAAM,MAAM,MAAM,qBAAqB;YAC3C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,WAAW;gBACX,mBAAmB,WAAW;YAChC;QACF;QAEA,IAAI,IAAI,EAAE,EAAE;YACV,UAAU;YACV,UAAU;QACZ,OAAO;YACL,UAAU;QACZ;IACF;IAEA,qBAEM,6LAAC;QACC,UAAU;QACV,WAAU;QACV,OAAO;YACL,iBAAiB;YACjB,OAAO;QACT;;0BAEA,6LAAC;;kCACC,6LAAC;wBAAM,WAAU;kCAAoC;;;;;;kCACrD,6LAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,WAAU;wBACV,OAAO;4BACL,iBAAiB;4BACjB,OAAO;wBACT;wBACA,QAAQ;;;;;;;;;;;;0BAIZ,6LAAC;;kCACC,6LAAC;wBAAM,WAAU;kCAAoC;;;;;;kCACrD,6LAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;wBAClD,WAAU;wBACV,OAAO;4BACL,iBAAiB;4BACjB,OAAO;wBACT;kCAEC,SAAS,GAAG,CAAC,CAAC,oBACb,6LAAC;gCAAoB,OAAO,IAAI,EAAE;;oCAC/B,IAAI,IAAI;oCAAC;oCAAG,IAAI,EAAE;oCAAC;;+BADT,IAAI,EAAE;;;;;;;;;;;;;;;;0BAOzB,6LAAC;gBACC,MAAK;gBACL,WAAU;gBACV,OAAO;oBACL,iBAAiB;oBACjB,OAAO;oBACP,QAAQ;gBACV;0BACD;;;;;;YAIA,wBAAU,6LAAC;gBAAE,WAAU;0BAA2B;;;;;;;;;;;;AAI7D;GAzGwB;;QAEU,oIAAA,CAAA,aAAU;QAC3B,qIAAA,CAAA,YAAS;;;KAHF","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///home/outlaw/Capstone-Kyndryl-project/bank-app/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}